<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 08 - Word Cloud</title>
    <style>
        body { background: #1a202c; color: white; font-family: sans-serif; text-align: center; padding: 40px; }
        textarea { width: 90%; height: 150px; padding: 10px; margin-bottom: 20px; border-radius: 8px; border: none; }
        button { background: #4299e1; color: white; padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        #cloud { margin-top: 30px; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; background: #2d3748; padding: 20px; border-radius: 15px; }
    </style>
</head>
<body>
    <h1>Lyric Word Cloud Generator</h1>
    <textarea id="lyricBox" placeholder="Paste lyrics here..."></textarea><br>
    <button id="btn" onclick="startCloud()">GENERATE CLOUD</button>
    <div id="cloud">Words will appear here in different sizes...</div>

    <script>
        function startCloud() {
            // Proof it works: This alert must pop up when you click
            console.log("Button clicked!"); 
            
            const input = document.getElementById('lyricBox').value;
            if (!input) {
                alert("Please paste text first!");
                return;
            }

            const cloudDiv = document.getElementById('cloud');
            cloudDiv.innerHTML = ""; // Clear the box

            // Logic: Count word frequency
            const words = input.toLowerCase().replace(/[^\w\s]/g, "").split(/\s+/).filter(w => w.length > 3);
            const counts = {};
            words.forEach(w => counts[w] = (counts[w] || 0) + 1);

            // Create the visual cloud
            for (const word in counts) {
                const span = document.createElement('span');
                span.innerText = word;
                // Human-style sizing
                const fontSize = Math.min(70, 16 + (counts[word] * 10)); 
                span.style.fontSize = fontSize + "px";
                span.style.color = "hsl(" + Math.random() * 360 + ", 70%, 80%)";
                span.style.margin = "5px";
                cloudDiv.appendChild(span);
            }
        }
    </script>
</body>
</html>
